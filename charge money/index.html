<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ระบบคิดเงินถ่ายรูป (Custom รายบุคคล)</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
  
  <!-- หน้า 1 -->
  <div id="page1">
    <h2>ระบบคิดเงินถ่ายรูป</h2>

    <div id="loadingMessage">กำลังโหลดข้อมูลผู้จอง...</div>

    <label>ชื่อผู้จอง:
      <select id="customerName" onchange="fillCustomerData()">
        <option value="">-- เลือกชื่อผู้จอง --</option>
      </select>
    </label>

    <div class="row">
      <label>จำนวนคน:
        <input type="number" id="peopleCount" value="" min="1">
      </label>
      <label>วันที่ต้องการรับรูป:
        <input type="date" id="pickupDate">
      </label>
    </div>

    <label>เงินมัดจำ (บาท):
      <input type="number" id="depositAmount" value="" min="0">
    </label>

    <label>ช่องทางติดต่อ (เบอร์โทร):
      <input type="text" id="contactInfo" placeholder="เบอร์โทรศัพท์">
    </label>

    <div class="nav-buttons">
      <button onclick="goToPage2()">ถัดไป ➡️</button>
    </div>
  </div>

  <!-- หน้า 2 -->
  <div id="page2" style="display:none">
    <h3>Custom รายบุคคล:</h3>
    <div id="customList"></div>

    <button onclick="addCustom()">➕ เพิ่มรายการ Custom</button>

    <div class="row nav-buttons">
      <button onclick="goToPage1()">⬅️ ย้อนกลับ</button>
      <button onclick="goToPage3()">ถัดไป ➡️</button>
    </div>
  </div>

  <!-- หน้า 3 -->
  <div id="page3" style="display:none">
    <div class="result" id="result"></div>
    <div id="qrContainer" style="text-align:center;"></div>

    <div class="row nav-buttons">
      <button onclick="goToPage2()">⬅️ ย้อนกลับ</button>
      <button onclick="downloadImage()">บันทึกเป็นภาพ</button>
    </div>
  </div>

  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script src="script.js"></script>
</body>
</html>